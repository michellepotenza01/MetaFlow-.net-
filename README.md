![Imagem](logoMetaFlow.png)

# MetaFlow - Plataforma de Desenvolvimento Pessoal e Profissional Inteligente
####  Seu parceiro inteligente para transformar metas em realidade, combinando gestão tradicional com machine learning para um crescimento verdadeiramente personalizado.

## Índice

- [Desafio](#desafio)
- [Visão Geral](#visão-geral)
- [Arquitetura do Sistema](#arquitetura-do-sistema)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Configuração e Execução](#configuração-e-execução)
- [Execução de Testes](#execução-de-testes)
- [Documentação da API](#documentação-da-api)
- [Autenticação e Autorização](#autenticação-e-autorização)
- [Versionamento da API](#versionamento-da-api)
- [Health Checks e Monitoramento](#health-checks-e-monitoramento)
- [Machine Learning (ML.NET)](#machine-learning-mlnet)
- [Exemplos Completos de Requisições](#exemplos-completos-de-requisições)
- [Equipe de Desenvolvimemto](#equipe-de-desenvolvimento)
- [Licença](#licença)


 Desafio
------------
#### Preparando para o Futuro do Trabalho

No cenário atual de transformação digital acelerada, onde tecnologia e relações humanas se entrelaçam, identificamos uma necessidade crítica: as pessoas estão sobrecarregadas com múltiplas metas pessoais e profissionais, mas carecem de um sistema inteligente que as ajude a gerir seu desenvolvimento de forma holística e sustentável.

Solução MetaFlow
----------------

O MetaFlow é uma plataforma inovadora que combina gestão de metas tradicionais com machine learning para criar um parceiro digital inteligente no desenvolvimento pessoal e profissional. Não é apenas mais um app de produtividade - é um ecossistema de crescimento contínuo que se adapta ao usuário.

## Por Que Isso Importa?

### O Paradoxo da Produtividade Moderna

- Excesso de ferramentas, mas falta de insights reais
- Metas desconexas entre vida pessoal e profissional
- Sobrecarga de informações sem direção clara
- Falta de personalização nas recomendações de desenvolvimento

### Contexto do Futuro do Trabalho

- 47% dos profissionais relatam burnout por má gestão de metas (Fonte: WHO)
- 65% das crianças atuais trabalharão em profissões que ainda não existem (Fonte: WEF)
- Híbrido/Remoto exigem nova forma de auto-gerenciamento
- IA como parceira, não substituta, do potencial humano

## Conceito da Solução

### Parceiro de Desenvolvimento Pessoal Inteligente

O MetaFlow atua como um "personal trainer" digital para seu crescimento, utilizando:

```text
 Análise Comportamental +  Machine Learning +  Metas Personalizadas =  Crescimento Sustentável
 ``` 
 #### Pilares da Plataforma:
1. **Gestão Holística de Metas**
   - 7 categorias integradas: Carreira, Saúde, Pessoal, Educação, Financeiro, Relacionamentos, Lazer
   - Progresso visual com métricas tangíveis
   - Alertas inteligentes de prazos e consistência

2. **Check-in Emocional e Produtivo**
   - Registro diário de humor e produtividade
   - Análise de padrões comportamentais
   - Correlação automática entre bem-estar e performance

3. **Sistema de Recomendações com ML.NET**
   - Análise preditiva baseada em seus dados
   - Sugestões personalizadas de próximas metas
   - Fallback inteligente quando dados são insuficientes

4. **Dashboard de Insights Visuais**
   - Visão 360° do desenvolvimento
   - Tendências e progresso ao longo do tempo
   - Alertas proativos baseados em comportamento

### Inovação e Diferenciais

#### Resposta ao Desafio:

##### Novas Formas de Aprendizagem
- Learning path personalizado baseado em metas
- Micro-checkins que geram macro-insights
- Adaptação contínua ao ritmo do usuário

##### Saúde e Bem-estar no Trabalho
- Monitoramento integrado de produtividade e humor
- Alertas preventivos de burnout
- Correlação dados entre bem-estar e performance

##### IA como Parceira do Ser Humano
- ML.NET para recomendações personalizadas
- Análise de padrões comportamentais
- Sugestões contextualizadas sem substituir decisão humana

##### Preparação para Carreiras Futuras
- Desenvolvimento de soft skills mensurável
- Adaptabilidade através de metas flexíveis
- Auto-conhecimento como base para qualquer carreira

##### Ambientes Híbridos e Remotos
- Auto-gerenciamento eficiente
- Métricas objetivas de produtividade
- Equilíbrio vida-trabalho mensurável

### Impacto e Benefícios

#### Para Indivíduos:
- Clareza no desenvolvimento pessoal e profissional
- Motivação sustentável através de progresso visível
- Autoconhecimento baseado em dados reais
- Prevenção de burnout com alertas proativos

#### Para Organizações:
- Funcionários mais engajados e conscientes
- Desenvolvimento contínuo mensurável
- Cultura de feedback e crescimento
- Adaptabilidade para mudanças futuras

#### Para Sociedade:
- Profissionais mais preparados para o futuro
- Equilíbrio entre vida pessoal e profissional
- Inclusão através de ferramentas acessíveis
- Sustentabilidade no desenvolvimento de carreiras

### Como Responde ao Desafio

#### "Preparar jovens para carreiras que ainda não existem"
- Desenvolvendo adaptabilidade através do gerenciamento de metas flexíveis
- Fortalecendo auto-conhecimento - base para qualquer carreira futura
- Criando mentalidade de crescimento contínuo

#### "Reinventar ambientes de trabalho"
- Ferramentas para auto-gerenciamento em modelos híbridos/remotos
- Métricas de bem-estar integradas à produtividade
- Sistema de apoio para transições de carreira

#### "Bem-estar, inclusão e desenvolvimento contínuo"
- Abordagem holística que considera todas as áreas da vida
- Acessível através de interface intuitiva
- Adaptável a diferentes ritmos e necessidades

### Conclusão da Visão
O MetaFlow não é apenas um software - é uma nova abordagem para o desenvolvimento humano na era digital. Combinando a precisão dos dados com a sabedoria do autoconhecimento, criamos uma plataforma que prepara pessoas não apenas para o mercado de trabalho atual, mas para se tornarem protagonistas de suas próprias jornadas de vida.

### Funcionalidades Principais
- Gestão de Metas: 7 categorias integradas (Carreira, Saúde, Pessoal, Educação, Financeiro, Relacionamentos, Lazer)

- Check-ins Diários: Registro de humor, produtividade e tempo de foco

- Recomendações Inteligentes: Sistema de ML.NET para sugestões personalizadas

- Dashboard Analytics: Visão 360° do desenvolvimento com métricas e tendências

- Resumos Mensais Automáticos: Agregados estatísticos e análise de progresso

- Health Checks: Monitoramento completo do sistema em tempo real


Arquitetura do Sistema
----------------------

### Diagrama de Arquitetura C4 - Nível de Componentes

```mermaid
graph TB
    subgraph "Client Layer"
        WEB[Web Browser]
        MOB[Mobile App]
        CLI[API Client]
    end

    subgraph "API Layer"
        subgraph "MetaFlow.API"
            AUTH[AuthController]
            META[MetaController]
            REG[RegistroDiarioController]
            DASH[DashboardController]
            REC[RecomendacoesController]
            USER[UsuarioController]
            HEALTH[HealthController]
            ANAL[AnalisesController]
            RESUM[ResumoMensalController]
        end
    end

    subgraph "Business Layer"
        subgraph "Services"
            AS[AuthService]
            MS[MetaService]
            RS[RegistroDiarioService]
            DS[DashboardService]
            RECS[RecomendacaoService]
            US[UsuarioService]
            HS[HealthService]
            ES[EstatisticasService]
            RESS[ResumoMensalService]
        end
    end

    subgraph "Data Layer"
        subgraph "Repositories"
            METAR[MetaRepository]
            REGR[RegistroDiarioRepository]
            USUARIOR[UsuarioRepository]
            RESUMOR[ResumoMensalRepository]
        end

        DB[(Oracle Database)]
    end

    subgraph "Machine Learning"
        ML[ML.NET Engine]
        TRAIN[Training Pipeline]
        PRED[Prediction Engine]
        FALLBACK[Fallback Rules]
    end

    subgraph "Cross-Cutting Concerns"
        JWT[JWT Authentication]
        HC[Health Checks]
        SWAG[Swagger Docs]
        VAL[Validation]
        LOG[Logging]
        HATEOAS[HATEOAS Links]
        VERSION[API Versioning]
    end

    %% Conexões Cliente -> API
    WEB --> AUTH
    MOB --> META
    CLI --> DASH
    WEB --> REC
    MOB --> REG
    CLI --> HEALTH

    %% Conexões API -> Services
    AUTH --> AS
    META --> MS
    REG --> RS
    DASH --> DS
    REC --> RECS
    USER --> US
    HEALTH --> HS
    ANAL --> RECS
    RESUM --> RESS

    %% Conexões Services -> Repositories
    AS --> USUARIOR
    MS --> METAR
    RS --> REGR
    DS --> MS & RS & RECS
    RECS --> USUARIOR & METAR & REGR
    US --> USUARIOR
    RESS --> RESUMOR
    ES --> USUARIOR & METAR & REGR

    %% Conexões Repositories -> Database
    METAR --> DB
    REGR --> DB
    USUARIOR --> DB
    RESUMOR --> DB

    %% Conexões Machine Learning
    RECS --> ML
    ML --> TRAIN
    ML --> PRED
    RECS --> FALLBACK

    %% Conexões Cross-Cutting
    AS --> JWT
    HS --> HC
    AUTH -.-> SWAG
    META --> HATEOAS
    AUTH --> VERSION
    MS --> VAL
    RS --> LOG

```


## Explicação da Arquitetura

### Padrão Arquitetural
A aplicação segue o padrão Clean Architecture com separação clara de responsabilidades:

- **API Layer (Controllers):** Responsável pelo tratamento de requisições HTTP, validação, versionamento e formatação de respostas
- **Business Layer (Services):** Contém a lógica de negócio complexa, orquestração e algoritmos de ML
- **Data Layer (Repositories):** Gerencia o acesso a dados com abstração do Entity Framework
- **Domain Layer (Models):** Define as entidades de domínio e regras básicas de negócio

### Padrões de Design Implementados
- **Repository Pattern:** Abstração do acesso a dados
- **Service Pattern:** Encapsulamento da lógica de negócio
- **DTO Pattern:** Separação entre modelos de domínio e modelos de API
- **Service Response Pattern:** Padronização de respostas da API
- **Strategy Pattern:** Implementação do ML.NET com fallback inteligente


Fluxo de Dados Principal
```text
Request HTTP → Controller → Service → Repository → Oracle Database
                                     ↓
ML Engine → Prediction → Business Rules → Response Formatting
                                     ↓
Response HTTP ← Controller ← Service ← [Dados + Recomendações]
```

### Diagrama de Fluxo de Dados

```mermaid
flowchart TD
    Start[Cliente] --> Auth{Autenticação}
    Auth -->|Login| Login[AuthService]
    Auth -->|Token Válido| Acesso[API Access]
    
    Login -->|Sucesso| Token[JWT Token]
    Token --> Acesso
    
    Acesso --> Dashboard[DashboardController]
    Acesso --> Metas[MetaController]
    Acesso --> Registros[RegistroDiarioController]
    Acesso --> Recomendacoes[RecomendacoesController]
    
    Dashboard --> DS[DashboardService]
    Metas --> MS[MetaService]
    Registros --> RS[RegistroDiarioService]
    Recomendacoes --> MLS[RecomendacaoService]
    
    DS --> MS & RS & MLS
    MS --> MR[MetaRepository]
    RS --> RR[RegistroDiarioRepository]
    MLS --> UR[UsuarioRepository] & MR & RR
    
    MR --> DB[(Oracle DB)]
    RR --> DB
    UR --> DB
    
    MLS --> ML[ML.NET Engine]
    ML -->|Treinamento| Training[Training Data]
    ML -->|Predição| Prediction[Recomendações]
    
    Prediction --> Response[Resposta JSON]
    MR --> Response
    RR --> Response
    UR --> Response
    
    Response --> Client[Cliente]

``` 

### Explicação do diagrama de Fluxo de dados 

## Como as informações circulam pelo sistema durante uma requisição típica

### Fluxo principal:

1. **Cliente → Autenticação JWT**
2. **Controllers → Recebem requests HTTP**
3. **Services → Executam lógica de negócio**
4. **Repositories → Acessam banco de dados**
5. **ML.NET → Processa recomendações inteligentes**
6. **Resposta → Retorna dados formatados ao cliente**

### Significado:
Explica o caminho completo de uma requisição, desde o cliente até o processamento do machine learning e volta.


### Modelo de Dados:

```mermaid
erDiagram
    USUARIO ||--o{ META : possui
    USUARIO ||--o{ REGISTRO_DIARIO : registra
    USUARIO ||--o{ RESUMO_MENSAL : gera
    
    USUARIO {
        guid id PK
        string nome
        string email UK
        string senha_hash
        string profissao
        string objetivo_profissional
        datetime criado_em
        datetime atualizado_em
    }
    
    META {
        guid id PK
        guid usuario_id FK
        string titulo
        enum categoria
        datetime prazo
        int progresso
        string descricao
        enum status
        datetime criado_em
    }
    
    REGISTRO_DIARIO {
        guid id PK
        guid usuario_id FK
        datetime data
        int humor
        int produtividade
        int tempo_foco
        string anotacoes
        datetime criado_em
    }
    
    RESUMO_MENSAL {
        guid id PK
        guid usuario_id FK
        int ano
        int mes
        int total_registros
        int metas_concluidas
        decimal media_humor
        decimal media_produtividade
        decimal taxa_conclusao
        datetime calculado_em
    }
```

### Explicação Modelo de Dados (Diagrama ER)

As entidades principais do sistema e seus relacionamentos

#### Entidades principais:
- **USUARIO:** Dados do usuário e perfil
- **META:** Metas pessoais/profissionais com categorias
- **REGISTRO_DIARIO:** Check-ins de humor e produtividade
- **RESUMO_MENSAL:** Agregados mensais para analytics

#### Relacionamentos:
- Um usuário pode ter múltiplas metas, registros e resumos
- Todas as entidades se conectam através do `usuario_id`

### Significado:
Define a estrutura do banco de dados e como as informações são relacionadas.

---

## Tecnologias Utilizadas

### Backend & Framework
- **.NET 9.0:** Framework principal
- **ASP.NET Core:** Framework web
- **Entity Framework Core 9.0.10:** ORM
- **Oracle.EntityFrameworkCore 9.23.26000:** Provider Oracle

### Machine Learning & IA
- **ML.NET 4.0.2:** Machine Learning integrado
- **SDCA Maximum Entropy:** Algoritmo de classificação multiclasse

### Segurança & Autenticação
- **JWT (JSON Web Tokens):** Autenticação stateless
- **BCrypt.Net-Next 4.0.3:** Hash de senhas
- **Microsoft.IdentityModel.Tokens:** Validação de tokens

### Documentação & Qualidade
- **Swashbuckle.AspNetCore 9.0.4:** Documentação OpenAPI
- **Swashbuckle.AspNetCore.Annotations:** Documentação enriquecida
- **Microsoft.AspNetCore.Mvc.Versioning:** Controle de versões API

### Testes & Monitoramento
- **xUnit:** Framework de testes
- **Microsoft.AspNetCore.Mvc.Testing:** Testes de integração
- **Health Checks:** Monitoramento em tempo real

### Ambientes de Desenvolvimento Suportados
- **Visual Studio 2022:** (Recomendado para Windows)
- **Visual Studio Code:** (Multiplataforma - Windows, Linux, Mac)
- **JetBrains Rider:** (Alternativa multiplataforma)


Estrutura do Projeto
----------------------


``` text
MetaFlow/
├── MetaFlow.API/
│   ├── Controllers/           # Controladores HTTP
│   │   ├── AuthController.cs
│   │   ├── MetaController.cs
│   │   ├── DashboardController.cs
│   │   ├── RecomendacoesController.cs
│   │   └── HealthController.cs
│   ├── Models/               # Modelos de domínio
│   │   ├── Usuario.cs
│   │   ├── Meta.cs
│   │   ├── RegistroDiario.cs
│   │   └── ResumoMensal.cs
│   ├── DTOs/                 # Data Transfer Objects
│   ├── Services/             # Lógica de negócio
│   ├── Repositories/         # Acesso a dados
│   ├── Data/                # Contexto do banco
│   ├── Enums/               # Enumerações
│   └── Program.cs           # Configuração principal
├── MetaFlow.Tests/
│   ├── IntegrationTests/    # Testes de integração
│   └── UnitTests/           # Testes unitários
└── MetaFlow.sln      
```

### Pré-requisitos
- **.NET 9.0 SDK**
- **Oracle Database** (ou conexão FIAP)
- **Visual Studio 2022** ou **VS Code**

### Configuração
Clone o repositório:

```bash
git clone [<url-do-repositorio>](https://github.com/michellepotenza01/MetaFlow-.net-.git)
```

Entre na pasta principal do projeto:


```bash
cd MetaFlow
Configure a conexão com o banco (appsettings.json)
```
Execute as migrações do banco caso necessario:
```bash

cd MetaFlow.API
dotnet ef database update
```
Execução da Aplicação - Passo a Passo
No Visual Studio 2022:

- Abra o arquivo MetaFlow.sln

- Defina MetaFlow.API como projeto de inicialização

- Pressione F5 ou clique em "Executar"

No Visual Studio Code:
- Abra a pasta do projeto no VS Code

- Abra o terminal integrado (Ctrl + `)

Execute os comandos:

```bash
cd MetaFlow.API
dotnet run
```

1. Saída esperada no console:

```text
Usando as configurações de inicialização de C:\Users\Notebook\MetaFlow\MetaFlow.API\Properties\launchSettings.json...
Compilando...
==============================================
  METAFLOW API INICIADA COM SUCESSO!
==============================================
  URL Principal: http://localhost:5142
  Swagger Docs: http://localhost:5142/swagger
   Health Check: http://localhost:5142/health
  Página Inicial: http://localhost:5142
  API Info: http://localhost:5142/api
==============================================
 COMEÇAR AGORA:
   1. Acesse: http://localhost:5142
   2. Clique em 'Registrar Agora'
   3. Explore a documentação no Swagger
==============================================
 RECURSOS DISPONÍVEIS:
   • Gestão de Metas Pessoais e Profissionais
   • Registro Diário de Humor e Produtividade
   • Dashboard com Análises Visuais
   • Sistema de Recomendações com ML.NET
   • Análise de Padrões Comportamentais
   • Previsão de Progresso de Metas
==============================================
 VERSÕES DA API:
   • v1 - API Estável (Funcionalidades Básicas)
   • v2 - Versão Inteligente (ML.NET + Análises)
==============================================
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5142
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: C:\Users\Notebook\MetaFlow\MetaFlow.API

```

#### Acesse os endpoints principais:

Pagína incial com redirecionamento: http://localhost:5142/

Documentação Interativa: http://localhost:5142/swagger

Health Check: http://localhost:5142/health

API Info: http://localhost:5142/api

  URL Principal: http://localhost:5142


Execução de Testes
-------------------

## Status dos Testes: 100% PASSANDO (49 testes)

### Tipos de Testes Implementados

#### Testes de Integração (32 testes)
- **AuthTests:** Autenticação e validação de tokens
- **BasicApiTests:** Endpoints fundamentais da API
- **DashboardTests:** Painel do usuário e estatísticas
- **HealthCheckTests:** Verificação de saúde do sistema
- **MetaCrudTests:** Operações CRUD completas de metas
- **MLTests:** Sistema de machine learning e recomendações
- **RegistroDiarioTests:** Check-ins diários e métricas

#### Testes Unitários (17 testes)
- **AuthServiceTests:** Criptografia e validação de senhas
- **MetaServiceTests:** Lógica de negócio de metas
- **ModelTests:** Comportamento dos modelos de domínio
- **ServiceResponseTests:** Padrão de resposta de serviços

### Execução de Testes - Passo a Passo

#### No Visual Studio 2022:
1. Abra o **Test Explorer** (Menu **Test → Test Explorer**)
2. Execute todos os testes ou selecione categorias específicas


No Terminal/Command Line:
``` bash
# Navegue até a pasta de testes
cd MetaFlow.Tests

# Execute todos os testes
dotnet test

# Executar apenas testes de integração
dotnet test --filter "FullyQualifiedName~IntegrationTests"

# Executar apenas testes unitários
dotnet test --filter "FullyQualifiedName~UnitTests"

# Executar testes específicos de ML
dotnet test --filter "FullyQualifiedName~MLTests"

# Executar com logs detalhados
dotnet test --verbosity normal
```

Documentação da API
-------------------

## Endpoints Principais
 Autenticação:

- POST /api/v1/auth/login - Login de usuários

- GET /api/v1/auth/validate - Validação de token

- GET /api/v2/auth/me - Informações do usuário (V2)

 Metas:

- GET /api/v1/meta - Listar todas as metas

- GET /api/v1/meta/usuario/{usuarioId} - Metas do usuário

- POST /api/v1/meta - Criar nova meta

- PUT /api/v1/meta/{id} - Atualizar meta

- DELETE /api/v1/meta/{id} - Excluir meta

- POST /api/v1/meta/{id}/concluir - Marcar meta como concluída

 Dashboard: 
- GET /api/v1/dashboard/usuario/{usuarioId} - Dashboard completo

- GET /api/v2/dashboard/usuario/{usuarioId}/quick-stats - Estatísticas rápidas (V2)

- GET /api/v2/dashboard/usuario/{usuarioId}/alertas - Alertas inteligentes (V2)

 Machine Learning:
- GET /api/v2/recomendacoes/usuario/{usuarioId} - Gerar recomendações personalizadas

- GET /api/v2/recomendacoes/meta/{metaId}/previsao-progresso - Prever progresso da meta

- POST /api/v2/recomendacoes/usuario/{usuarioId}/feedback - Enviar feedback das recomendações

Registros Diários:
- GET /api/v1/registro-diario - Listar registros

- POST /api/v1/registro-diario - Criar registro diário

- GET /api/v1/registro-diario/usuario/{usuarioId} - Registros do usuário

Health Checks:

- GET /api/v1/health - Health check completo

- GET /api/v2/health - Health check avançado (V2)

- GET /api/v1/health/database - Saúde do banco de dados


Autenticação e Autorização
---------------------------
Fluxo de Autenticação - Passo a Passo
1. Primeiro: Obtenha o token JWT:
```http
POST /api/v1/auth/login
Content-Type: application/json

{
  "email": "MihPotenza@email.com",
  "senha": "Mikass01"
}
```

2. Copie o token da resposta:

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "tokenType": "Bearer",
  "expiresAt": "2024-01-15T12:00:00Z",
  "usuarioId": "guid-do-usuario"
}
```

3. Configure a autenticação no Swagger:

- Clique no botão "Authorize" no topo do Swagger

- Cole: Bearer {seu_token_jwt}

- Clique em "Authorize"

4. Valide o token:


```http
GET /api/v1/auth/validate
Authorization: Bearer {seu_token_jwt}
```

### Segurança Implementada
- JWT Tokens: Tokens com expiração de 24 horas

- BCrypt: Hash de senhas com work factor 12

- Validação de Claims: Verificação de permissões por usuário

- CORS: Configuração de origens permitidas


Versionamento da API
--------------------

#### Versão 1.0 (Estável)
- Endpoints básicos de CRUD

- Autenticação JWT

- Operações fundamentais do sistema

- Exemplo: GET /api/v1/meta

#### Versão 2.0 (Avançada)
- Recursos com ML.NET

- Dashboard com analytics

- Health checks avançados

- Endpoints paginados com HATEOAS

- Sistema de recomendações inteligentes

- Exemplo: GET /api/v2/recomendacoes/usuario/{usuarioId}

## Exemplos de Uso por Versão

```http
# V1 - Endpoint básico
GET /api/v1/meta

# V2 - Com ML e estatísticas
GET http://localhost:5142/api/v2/recomendacoes/usuario/448b5587-9ecb-4e88-a2b6-34065b9d60f2

# V1 - Health check simples
GET /api/v1/health

# V2 - Health check detalhado
GET /api/v2/health
```

### Health Checks e Monitoramento
#### Endpoints de Saúde

- GET /health - Health check completo

- GET /api/v1/health/database - Saúde do banco

- GET /api/v2/health - Health check avançado (V2)

- GET /api/v2/health/statistics - Estatísticas do sistema (V2)

#### Métricas Monitoradas
- Conexão com banco de dados Oracle

- Uso de memória e performance

- Status do serviço de ML.NET

- Estatísticas do sistema em tempo real

- Tempo de resposta da API

#### Exemplo de Resposta do Health Check
```json
{
  "status": "Healthy",
  "totalDuration": "00:00:01.2345678",
  "entries": {
    "database": {
      "status": "Healthy",
      "description": "Database conectado. 15 usuários encontrados.",
      "duration": "00:00:00.1234567",
      "data": {
        "usuarios_count": 15,
        "response_time_ms": 123.4567
      }
    },
    "ml_service": {
      "status": "Healthy", 
      "description": "ML Service operacional",
      "duration": "00:00:00.0054321",
      "data": {
        "model_loaded": true,
        "prediction_available": true
      }
    }
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "environment": "Development"
}
```

Machine Learning (ML.NET)
--------------------------

#### Sistema de Recomendações Inteligentes

O MetaFlow utiliza ML.NET 4.0.2 para gerar recomendações personalizadas baseadas em:

- Padrões comportamentais do usuário

- Histórico de metas e taxas de conclusão

- Check-ins diários de humor e produtividade

- Consistência nos registros

#### Algoritmo Implementado

- Modelo: Classificação Multiclasse

- Algoritmo: SDCA Maximum Entropy

- Features: 6 características do usuário

- Fallback: Sistema de regras baseadas em heurísticas

#### Endpoints de ML
```http
GET /api/v2/recomendacoes/usuario/{usuarioId}
Authorization: Bearer {token}
```

#### Exemplo de Recomendação
```json
{
  "data": [
    {
      "categoria": "Saúde",
      "confianca": 0.85,
      "justificativa": "Melhorar o bem-estar pode aumentar significativamente sua produtividade",
      "prioridade": "Alta",
      "tipo": "ML"
    }
  ],
  "message": "Recomendações geradas com sucesso usando ML.NET",
  "metadados": {
    "totalRecomendacoes": 3,
    "modeloML": "Classificação Multiclasse com SDCA Maximum Entropy",
    "tempoProcessamento": "Tempo real"
  }
}
```
### Fluxo Completo Recomendado

#### Siga esta sequência para uma experiência completa com a plataforma MetaFlow:

- Sequência de Operações Recomendada:
Registrar Novo Usuário (Público)

- Autenticar na Plataforma

- Validar Token JWT

- Criar Primeiras Metas

- Fazer Check-in Diário

- Obter Recomendações Inteligentes

- Explorar Dashboard

- Monitorar Saúde do Sistema


Exemplos Completos de Requisições
----------------------------------


#### Sequência Recomendada de Operações

##### Fluxo Completo do Usuário
```text
1. Criar Usuário → 2. Autenticar → 3. Validar Token → 4. Gerenciar Metas → 
5. Registrar Check-ins → 6. Obter Recomendações → 7. Ver Dashboard → 8. Monitorar Saúde
```

 1.  Criar Usuário (Endpoint Público)
Primeiro passo: criar uma conta na plataforma

```http
POST /api/v1/usuarios/registrar
Content-Type: application/json

{
  "nome": "Carlos Eduardo Santos",
  "email": "carlos.santos@email.com",
  "senha": "CarlosSeguro123!",
  "profissao": "Desenvolvedor Backend",
  "objetivoProfissional": "Tornar-se Arquiteto de Software Senior"
}
```
Resposta Esperada:

```json
{
  "data": {
    "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "nome": "Carlos Eduardo Santos",
    "email": "carlos.santos@email.com",
    "profissao": "Desenvolvedor Backend",
    "objetivoProfissional": "Tornar-se Arquiteto de Software Senior",
    "criadoEm": "2024-01-15T10:30:00Z",
    "atualizadoEm": "2024-01-15T10:30:00Z"
  },
  "message": "Usuário criado com sucesso",
  "links": [
    {
      "href": "/api/v1/usuarios/a1b2c3d4-e5f6-7890-abcd-ef1234567890",
      "rel": "self",
      "method": "GET"
    }
  ],
  "timestamp": "2024-01-15T10:30:00Z",
  "version": "1.0"
}
```
 2. Autenticar na Plataforma

- Segundo passo: obter token JWT para acessar endpoints protegidos

```http
POST /api/v1/auth/login
Content-Type: application/json

{
  "email": "carlos.santos@email.com",
  "senha": "CarlosSeguro123!"
}
```

 Resposta Esperada:

```json
{
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhMWIyYzNkNC1lNWY2LTc4OTAtYWJjZC1lZjEyMzQ1Njc4OTAiLCJuYW1lIjoiQ2FybG9zIEVkdWFyZG8gU2FudG9zIiwiZW1haWwiOiJjYXJsb3Muc2FudG9zQGVtYWlsLmNvbSIsImp0aSI6IjEyMzQ1Njc4OWFiY2RlZiIsImlhdCI6MTcwNTMyMDAwMCwiZXhwIjoxNzA1NDA2NDAwfQ",
    "tokenType": "Bearer",
    "expiresAt": "2024-01-16T10:30:00Z",
    "usuarioId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "nome": "Carlos Eduardo Santos",
    "email": "carlos.santos@email.com",
    "expiresInHours": 24,
    "message": "Login realizado com sucesso"
  },
  "message": "Login realizado com sucesso",
  "timestamp": "2024-01-15T10:30:00Z",
  "version": "1.0"
}

```

 3.  Validar Token JWT
Terceiro passo: verificar se o token está válido

```http
GET /api/v1/auth/validate
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
 Resposta Esperada:

```json
{
  "message": "Token válido",
  "data": {
    "usuarioId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "nome": "Carlos Eduardo Santos",
    "email": "carlos.santos@email.com",
    "isAuthenticated": true
  },
  "timestamp": "2024-01-15T10:35:00Z",
  "version": "1.0"
}
```
 4. Gerenciar Metas Pessoais

4.1 Criar Primeira Meta

```http
POST /api/v1/meta
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "titulo": "Dominar .NET 9 e ASP.NET Core",
  "categoria": "Carreira",
  "prazo": "2026-03-30T23:59:59",
  "descricao": "Aprender recursos avançados do .NET 9, Entity Framework Core e implementar projetos complexos",
  "progresso": 20,
  "status": "Ativa"
}
```

 Resposta Esperada:

```json
{
  "data": {
    "id": "b2c3d4e5-f6g7-8901-bcde-f23456789012",
    "usuarioId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "titulo": "Dominar .NET 9 e ASP.NET Core",
    "categoria": "Carreira",
    "prazo": "2024-06-30T23:59:59",
    "progresso": 20,
    "descricao": "Aprender recursos avançados do .NET 9, Entity Framework Core e implementar projetos complexos",
    "criadoEm": "2024-01-15T10:40:00Z",
    "status": "Ativa",
    "diasRestantes": 166,
    "estaAtrasada": false,
    "podeSerConcluida": false
  },
  "message": "Meta criada com sucesso",
  "timestamp": "2024-01-15T10:40:00Z",
  "version": "1.0"
}
```

 4.2 Criar Meta de Saúde

```http
POST /api/v1/meta
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "titulo": "Praticar exercícios 4x por semana",
  "categoria": "Saude",
  "prazo": "2024-03-31T23:59:59",
  "descricao": "Estabelecer rotina consistente de exercícios físicos para melhorar saúde e disposição",
  "progresso": 40,
  "status": "Ativa"
}
```

 4.3 Listar Todas as Metas do Usuário

```http
GET /api/v1/meta/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

4.4 - Atualizar Progresso de uma Meta
```http
PATCH /api/v1/meta/b2c3d4e5-f6g7-8901-bcde-f23456789012/progresso
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "progresso": 45
}
```
5.  Registrar Check-ins Diários

5.1 Primeiro Check-in do Dia

```http
POST /api/v1/registro-diario
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "data": "2024-01-15T08:00:00",
  "humor": 8,
  "produtividade": 7,
  "tempoFoco": 320,
  "anotacoes": "Manhã produtiva focada em estudos de .NET. Finalizei módulo de Entity Framework."
}
```
 Resposta Esperada:

```json
{
  "data": {
    "id": "c3d4e5f6-g7h8-9012-cdef-345678901234",
    "usuarioId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "data": "2024-01-15T00:00:00",
    "humor": 8,
    "produtividade": 7,
    "tempoFoco": 320,
    "anotacoes": "Manhã produtiva focada em estudos de .NET. Finalizei módulo de Entity Framework.",
    "criadoEm": "2024-01-15T12:00:00Z",
    "statusProdutividade": "Boa",
    "statusHumor": "Bom",
    "diaDaSemana": "segunda-feira"
  },
  "message": "Registro diário criado com sucesso",
  "timestamp": "2024-01-15T12:00:00Z",
  "version": "1.0"
}
```

 5.2 Check-in com Humor Elevado
```http
POST /api/v1/registro-diario
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "data": "2024-01-16T08:00:00",
  "humor": 9,
  "produtividade": 8,
  "tempoFoco": 280,
  "anotacoes": "Dia excelente! Progresso significativo no projeto pessoal e boa energia."
}
```
6. Obter Recomendações Inteligentes (ML.NET)
6.1 Primeira Consulta de Recomendações
```http
GET /api/v2/recomendacoes/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
Resposta Esperada:

```json
{
  "data": [
    {
      "categoria": "Saúde",
      "confianca": 0.85,
      "justificativa": "Seu histórico mostra boa produtividade, mas investir em bem-estar pode aumentar ainda mais seu desempenho",
      "prioridade": "Alta",
      "tipo": "ML"
    },
    {
      "categoria": "Educação",
      "confianca": 0.78,
      "justificativa": "Baseado no seu foco em desenvolvimento profissional, sugerimos metas de aprendizado contínuo",
      "prioridade": "Alta",
      "tipo": "ML"
    },
    {
      "categoria": "Lazer",
      "confianca": 0.65,
      "justificativa": "Equilíbrio entre trabalho e descanso é importante para sustentabilidade da produtividade",
      "prioridade": "Média",
      "tipo": "Regra"
    }
  ],
  "message": "Recomendações geradas com sucesso usando ML.NET",
  "metadados": {
    "totalRecomendacoes": 3,
    "modeloML": "Classificação Multiclasse com SDCA Maximum Entropy",
    "tempoProcessamento": "Tempo real"
  },
  "links": [
    {
      "href": "/api/v2/usuarios/a1b2c3d4-e5f6-7890-abcd-ef1234567890/metas",
      "rel": "criar-meta-recomendada",
      "method": "POST"
    },
    {
      "href": "/api/v2/dashboard/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890",
      "rel": "ver-dashboard",
      "method": "GET"
    }
  ],
  "timestamp": "2024-01-16T09:00:00Z",
  "version": "2.0"
}
```
6.2 Prever Progresso de uma Meta Específica
```http
GET /api/v2/recomendacoes/meta/b2c3d4e5-f6g7-8901-bcde-f23456789012/previsao-progresso
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

7.  Acessar Dashboard Personalizado

7.1 Dashboard Completo

```http
GET /api/v1/dashboard/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
 Resposta Esperada:

```json
{
  "data": {
    "estatisticasUsuario": {
      "totalMetas": 2,
      "metasConcluidas": 0,
      "totalRegistros": 2,
      "mediaHumor": 8.5,
      "mediaProdutividade": 7.5,
      "taxaConclusao": 0,
      "tempoNoSistema": 1,
      "perfilCompleto": true
    },
    "estatisticasMetas": {
      "totalMetas": 2,
      "metasConcluidas": 0,
      "metasAtrasadas": 0,
      "metasAtivas": 2,
      "taxaConclusao": 0
    },
    "ultimosRegistros": [
      {
        "id": "c3d4e5f6-g7h8-9012-cdef-345678901234",
        "data": "2024-01-16T00:00:00",
        "humor": 9,
        "produtividade": 8,
        "statusProdutividade": "Boa",
        "statusHumor": "Ótimo"
      }
    ],
    "metasAtrasadas": [],
    "metasRecentes": [
      {
        "id": "b2c3d4e5-f6g7-8901-bcde-f23456789012",
        "titulo": "Dominar .NET 9 e ASP.NET Core",
        "categoria": "Carreira",
        "progresso": 45,
        "status": "Ativa"
      }
    ],
    "recomendacoes": [
      {
        "categoria": "Saúde",
        "confianca": 0.85,
        "prioridade": "Alta"
      }
    ],
    "statusGeral": {
      "usuarioDisponivel": true,
      "metasDisponiveis": true,
      "registrosDisponiveis": true,
      "metasAtrasadasDisponiveis": true,
      "recomendacoesDisponiveis": true
    }
  },
  "message": "Dashboard recuperado com sucesso",
  "links": [
    {
      "href": "/api/v1/usuarios/a1b2c3d4-e5f6-7890-abcd-ef1234567890/metas",
      "rel": "ver-metas",
      "method": "GET"
    },
    {
      "href": "/api/v1/usuarios/a1b2c3d4-e5f6-7890-abcd-ef1234567890/registros",
      "rel": "ver-registros",
      "method": "GET"
    },
    {
      "href": "/api/v2/recomendacoes/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890",
      "rel": "ver-recomendacoes",
      "method": "GET"
    },
    {
      "href": "/api/v1/registro-diario",
      "rel": "criar-registro",
      "method": "POST"
    }
  ],
  "timestamp": "2024-01-16T10:00:00Z",
  "version": "1.0"
}
```

7.2 Estatísticas Rápidas (V2)
```http
GET /api/v2/dashboard/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890/quick-stats
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
7.3 Alertas do Sistema (V2)
```http
GET /api/v2/dashboard/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890/alertas
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
8.  Monitorar Saúde do Sistema
8.1 Health Check Completo
```http
GET /api/v1/health
```
Resposta Esperada:

```json
{
  "status": "Healthy",
  "totalDuration": "00:00:01.1234567",
  "entries": {
    "database": {
      "status": "Healthy",
      "description": "Database conectado. 25 usuários encontrados.",
      "duration": "00:00:00.2345678",
      "data": {
        "usuarios_count": 25,
        "response_time_ms": 234.5678
      }
    },
    "api": {
      "status": "Healthy",
      "description": "API respondendo normalmente",
      "duration": "00:00:00.0123456",
      "data": {
        "uptime_seconds": 86400,
        "environment": "Development"
      }
    },
    "ml_service": {
      "status": "Healthy",
      "description": "ML Service operacional",
      "duration": "00:00:00.0054321",
      "data": {
        "model_loaded": true,
        "prediction_available": true
      }
    },
    "memory": {
      "status": "Healthy",
      "description": "Memória OK: 156MB",
      "duration": "00:00:00.0012345",
      "data": {
        "memory_mb": 156,
        "gc_collections": {
          "gen0": 45,
          "gen1": 12,
          "gen2": 2
        }
      }
    },
    "statistics": {
      "status": "Healthy",
      "description": "Estatísticas coletadas com sucesso",
      "duration": "00:00:00.3456789",
      "data": {
        "total_usuarios": 25,
        "total_metas": 48,
        "total_registros": 120,
        "total_resumos": 15,
        "metas_concluidas": 12,
        "metas_ativas": 36
      }
    }
  },
  "timestamp": "2024-01-16T11:00:00Z",
  "environment": "Development"
}
```

8.2 Health Check do Banco

```http
GET /api/v1/health/database
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

9.  Gerenciar Resumos Mensais

9.1 Criar Resumo do Mês

```http
POST /api/v2/resumo-mensal/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890/periodo/2024/1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
9.2 Obter Último Resumo
```http
GET /api/v2/resumo-mensal/usuario/a1b2c3d4-e5f6-7890-abcd-ef1234567890/ultimo
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

10.  Operações de Manutenção

10.1 Atualizar Perfil do Usuário

```http

PUT /api/v1/usuarios/a1b2c3d4-e5f6-7890-abcd-ef1234567890
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "nome": "Carlos Eduardo Santos",
  "email": "carlos.santos@email.com",
  "profissao": "Arquiteto de Software Pleno",
  "objetivoProfissional": "Liderar equipes de desenvolvimento e contribuir para arquiteturas escaláveis"
}
```

10.2 Atualizar Senha

```http
PUT /api/v2/usuarios/a1b2c3d4-e5f6-7890-abcd-ef1234567890/atualizar-senha
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "novaSenha": "NovaSenhaSuperSegura456!"
}
```
 #### Fluxo de Uso Resumido

Para Novos Usuários:

Registrar → Criar conta na plataforma

Login → Obter token de acesso

Validar → Confirmar autenticação

Criar Metas → Definir objetivos pessoais

Check-in Diário → Registrar humor e produtividade

Dashboard → Ver progresso e estatísticas

Recomendações → Obter sugestões inteligentes


 ##### Uso Contínuo:
Check-in Diário → Todos os dias

Atualizar Progresso → Semanalmente

Recomendações → Quando precisar de novas ideias

Dashboard → Para acompanhamento geral

Resumos Mensais → Para análise de tendências



Equipe de Desenvolvimento
------------------------

- Ana Carolina de Castro Gonçalves - RM 554669

- Luísa Danielle - RM 555292

- Michelle Marques Potenza - RM 557702



Licença
--------
Este projeto está licenciado sob a [MIT](https://choosealicense.com/licenses/mit/) License.
